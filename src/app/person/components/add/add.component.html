<div class="flex justify-center">
  <div class="m-3 md:w-3/4 lg:w-3/4 sm:w-full">
    <form [formGroup]="form" (keydown.enter)="preventDefault($event)">
      <div class="text-xl text-gray-300 my-3">Información personal</div>
      <div class="flex flex-row w-full gap-3">
        <mat-form-field class="w-1/2 mt-1">
          <mat-label>Nombre</mat-label>
          <input
            matInput
            formControlName="name"
            required
          />
          <mat-hint *ngIf="this.showHint('name')" class="text-red-300">Ingresa un nombre válido</mat-hint>
        </mat-form-field>
        <mat-form-field class="w-1/2 mt-1">
          <mat-label>Apellido</mat-label>
          <input
            matInput
            formControlName="lastName"
            required
          />
          <mat-hint *ngIf="this.showHint('lastName')" class="text-red-300">Ingresa un apellido válido</mat-hint>
        </mat-form-field>
      </div>
      <div class="flex flex-row w-full gap-3">
        <mat-form-field class="w-1/3 mt-1">
          <mat-label>Email</mat-label>
          <input
            matInput
            placeholder="email@example.com"
            formControlName="email"
            required
          />
          <mat-hint *ngIf="this.showHint('email')" class="text-red-300">Ingresa un email válido</mat-hint>
        </mat-form-field>
        <mat-form-field class="w-1/3 mt-1">
          <mat-label>Telefono</mat-label>
          <input
            matInput
            formControlName="phone"
            required
          />
          <mat-hint *ngIf="this.showHint('phone')" class="text-red-300">Ingresa un teléfono válido</mat-hint>
        </mat-form-field>
        <mat-form-field class="w-1/3 mt-1">
          <mat-label>Fecha de nacimiento</mat-label>
          <input
            matInput
            [min]="minDate"
            [max]="maxDate"
            formControlName="dob"
            [matDatepicker]="picker"
            required
          />
          <mat-datepicker-toggle
            matIconSuffix
            [for]="picker"
          ></mat-datepicker-toggle>
          <mat-datepicker #picker></mat-datepicker>
          <mat-error *ngIf="form.get('dob')!.invalid"></mat-error>
        </mat-form-field>
      </div>
      <div class="text-xl text-gray-300 my-3">Identificación</div>
      <div class="flex flex-row w-full gap-3">
        <mat-form-field class="mt-1">
          <mat-label>Tipo</mat-label>
          <mat-select formControlName="docType">
            <mat-option value="cc">CC</mat-option>
            <mat-option value="ce">CE</mat-option>
            <mat-option value="dni">DNI</mat-option>
            <mat-option value="pasaporte">Pasaporte</mat-option>
            <mat-option value="other">Otro</mat-option>
          </mat-select>
        </mat-form-field>
        <mat-form-field class="w-1/3 mt-1">
          <mat-label>Número</mat-label>
          <input
            matInput
            formControlName="docNumber"
            required
          />
          <mat-hint *ngIf="this.showHint('docNumber')" class="text-red-300">Ingresa una identificación válida</mat-hint>
        </mat-form-field>
        <mat-form-field class="w-full mt-1">
          <mat-label>Descripción</mat-label>
          <input
            matInput
            formControlName="docDescription"
          />
        </mat-form-field>
      </div>
      <div class="text-xl text-gray-300 my-3">Ciudad</div>
      <div class="flex flex-row w-full gap-3">
        <mat-form-field class="w-1/3 mt-1">
          <mat-label>Ciudad</mat-label>
          <input
            matInput
            formControlName="city"
            required
          />
          <mat-hint *ngIf="this.showHint('city')" class="text-red-300">Ingresa un nombre válido</mat-hint>
        </mat-form-field>
        <mat-form-field class="w-1/3 mt-1">
          <mat-label>Departamento</mat-label>
          <input
            matInput
            formControlName="state"
            required
          />
          <mat-hint *ngIf="this.showHint('state')" class="text-red-300">Ingresa un nombre válido</mat-hint>
        </mat-form-field>
        <mat-form-field class="w-1/3 mt-1">
          <mat-label>Pais</mat-label>
          <input
            matInput
            formControlName="country"
            required
          />
          <mat-hint *ngIf="this.showHint('country')" class="text-red-300">Ingresa un nombre válido</mat-hint>
        </mat-form-field>
      </div>
      <div class="text-xl text-gray-300 my-3">Usuario</div>
      <div class="flex flex-row w-full gap-3">
        <mat-form-field class="w-1/3 mt-1">
          <mat-label>Nombre de usuario</mat-label>
          <input
            matInput
            formControlName="username"
            required
          />
          <mat-hint *ngIf="this.showHint('username')" class="text-red-300">Al menos 5 caracteres entre letras números y
            guiones
          </mat-hint>

        </mat-form-field>
        <mat-form-field class="w-1/3 mt-1">
          <mat-label>Crea una contraseña</mat-label>
          <input
            matInput
            [type]="this.hide() ? 'password' : 'text'"
            formControlName="password"
            required
          />
          <mat-hint *ngIf="this.showHint('password')" class="text-red-300">8 caracteres entre mayúsculas, minúscula,
            números y especiales
          </mat-hint>
        </mat-form-field>
        <mat-form-field class="w-1/3 mt-1">
          <mat-label>Confirmar contraseña</mat-label>
          <input
            matInput
            [type]="this.hide() ? 'password' : 'text'"
            formControlName="confirmPassword"
          />
          <mat-hint *ngIf="this.showHint('confirmPassword')" class="text-red-300">Escribe tu contraseña otra vez
          </mat-hint>
        </mat-form-field>
      </div>
      <div class="flex w-full justify-end gap-5">
        <button
          mat-stroked-button
          type="submit"
          (click)="exit()"
          style="color: #fa6767"
        >
          Salir
        </button>
        <button
          mat-stroked-button
          type="submit"
          (click)="onSave()"
          [disabled]="!this.form.valid"
        >
          Hecho
        </button>
      </div>
    </form>
  </div>
</div>
